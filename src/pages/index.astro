---
// Afterimage — Sayyid Khan portfolio landing page
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Sayyid Khan</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <!-- ============ CANVAS LAYERS ============ -->
    <div id="scene" class="scene">
      <!-- Animated grid background -->
      <canvas id="grid-canvas" class="grid-canvas"></canvas>

      <!-- Background title -->
      <div class="bg-title" id="bg-title">
        <span>HEAD OF</span>
        <span>VIBE CODING</span>
      </div>

      <!-- Base image layer (IMAGE ONE — portrait) -->
      <div class="img-layer img-base" id="img-base">
        <img src="/img/sayyid.png" alt="" draggable="false" />
      </div>

      <!-- Reveal image layer (IMAGE TWO — burj khalifa), masked by spotlight -->
      <div class="img-layer img-reveal" id="img-reveal">
        <img src="/img/burjkhalifa.jpg" alt="" draggable="false" />
      </div>

      <!-- Echo trails canvas (drawn on top of reveal) -->
      <canvas id="echo-canvas" class="echo-canvas"></canvas>

      <!-- Terminal decoration -->
      <div class="terminal-decoration">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="4 17 10 11 4 5"></polyline>
          <line x1="12" y1="19" x2="20" y2="19"></line>
        </svg>
      </div>
    </div>

    <!-- ============ UI OVERLAY ============ -->
    <div class="ui-overlay" id="ui-overlay">
      <!-- Top-left: Name -->
      <div class="ui-name" id="ui-name" data-invertable>
        <span class="name-first">Sayyid</span>
        <span class="name-last">Khan</span>
      </div>

      <!-- Top-right: Navigation -->
      <a href="#" class="ui-nav" id="ui-nav" data-invertable>Agentic AI Portfolio</a>

      <!-- Bottom-right: Social icons -->
      <div class="ui-socials" id="ui-socials">
        <a
          href="https://instagram.com/"
          target="_blank"
          rel="noopener noreferrer"
          class="social-link"
          data-invertable
          aria-label="Instagram"
        >
          <svg viewBox="0 0 24 24" fill="currentColor" width="22" height="22">
            <path
              d="M7.75 2h8.5A5.75 5.75 0 0 1 22 7.75v8.5A5.75 5.75 0 0 1 16.25 22h-8.5A5.75 5.75 0 0 1 2 16.25v-8.5A5.75 5.75 0 0 1 7.75 2Zm0 1.5A4.25 4.25 0 0 0 3.5 7.75v8.5A4.25 4.25 0 0 0 7.75 20.5h8.5A4.25 4.25 0 0 0 20.5 16.25v-8.5A4.25 4.25 0 0 0 16.25 3.5h-8.5Zm4.25 3.25a5.25 5.25 0 1 1 0 10.5 5.25 5.25 0 0 1 0-10.5Zm0 1.5a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5Zm5.5-1.5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"
            />
          </svg>
        </a>
        <a
          href="https://x.com/"
          target="_blank"
          rel="noopener noreferrer"
          class="social-link"
          data-invertable
          aria-label="X / Twitter"
        >
          <svg viewBox="0 0 24 24" fill="currentColor" width="22" height="22">
            <path
              d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231 5.45-6.231Zm-1.161 17.52h1.833L7.084 4.126H5.117L17.083 19.77Z"
            />
          </svg>
        </a>
        <a
          href="https://linkedin.com/in/"
          target="_blank"
          rel="noopener noreferrer"
          class="social-link"
          data-invertable
          aria-label="LinkedIn"
        >
          <svg viewBox="0 0 24 24" fill="currentColor" width="22" height="22">
            <path
              d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"
            />
          </svg>
        </a>
      </div>
    </div>

    <!-- ============ CUSTOM CURSOR ============ -->
    <div id="cursor-dot" class="cursor-dot"></div>

    <style>
      /* ===== RESET & BASE ===== */
      *,
      *::before,
      *::after {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html,
      body {
        width: 100%;
        height: 100%;
        overflow: hidden;
        background: #fff;
        cursor: none;
        font-family: "Playfair Display", Georgia, "Times New Roman", serif;
      }

      /* ===== SCENE ===== */
      .scene {
        position: fixed;
        inset: 0;
        width: 100%;
        height: 100%;
      }

      .grid-canvas {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
        pointer-events: none;
      }

      /* ===== BACKGROUND TITLE ===== */
      .bg-title {
        position: absolute;
        top: 50%;
        left: 15%;
        transform: translateY(-50%);
        z-index: 5;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        justify-content: center;
        pointer-events: none;
        user-select: none;
        gap: 10px;
      }

      .bg-title span {
        font-family: "Playfair Display", Georgia, serif;
        font-size: clamp(40px, 7vw, 100px);
        font-weight: 900;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        background: linear-gradient(
          90deg,
          rgba(255, 255, 255, 0.2) 0%,
          rgba(255, 255, 255, 0.5) 50%,
          rgba(255, 255, 255, 0.2) 100%
        );
        background-size: 200% 100%;
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 0 60px rgba(255, 255, 255, 0.3);
        line-height: 1;
        text-align: left;
        white-space: nowrap;
        display: block;
        mix-blend-mode: screen;
        animation: shimmer 3s linear infinite;
      }

      @keyframes shimmer {
        0% {
          background-position: -200% 0;
        }
        100% {
          background-position: 200% 0;
        }
      }

      .bg-title span:first-child {
        animation: float-up 6s ease-in-out infinite;
      }

      .bg-title span:last-child {
        animation: float-down 6s ease-in-out infinite;
        animation-delay: -3s;
      }

      @keyframes float-up {
        0%, 100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-40px);
        }
      }

      @keyframes float-down {
        0%, 100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(40px);
        }
      }

      /* ===== IMAGE LAYERS ===== */
      .img-layer {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
      }

      .img-layer img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        object-position: center center;
        user-select: none;
        will-change: transform;
      }

      .img-base img {
        animation: portrait-shimmer 5s ease-in-out infinite;
      }

      @keyframes portrait-shimmer {
        0%, 90%, 100% {
          filter: brightness(1) contrast(1);
        }
        94%, 96% {
          filter: brightness(1.15) contrast(1.1);
        }
        95% {
          filter: brightness(1.25) contrast(1.15);
        }
      }

      .img-base {
        z-index: 1;
        background: linear-gradient(135deg, #1a0404 0%, #4a0e0e 50%, #2d0a0a 100%);
      }

      .img-reveal {
        z-index: 2;
        background: linear-gradient(135deg, #2c0a0e 0%, #5a1a1a 100%);
        /* Reveal mask — will be updated via JS */
        -webkit-mask-image: radial-gradient(
          circle 0px at -9999px -9999px,
          rgba(0, 0, 0, 1) 0%,
          rgba(0, 0, 0, 0.3) 70%,
          transparent 100%
        );
        mask-image: radial-gradient(
          circle 0px at -9999px -9999px,
          rgba(0, 0, 0, 1) 0%,
          rgba(0, 0, 0, 0.3) 70%,
          transparent 100%
        );
        will-change: mask-image, -webkit-mask-image;
      }

      .echo-canvas {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        z-index: 3;
        pointer-events: none;
      }

      /* ===== TERMINAL DECORATION ===== */
      .terminal-decoration {
        position: absolute;
        right: 10%;
        top: 50%;
        transform: translateY(-50%);
        z-index: 4;
        width: clamp(120px, 15vw, 220px);
        height: clamp(120px, 15vw, 220px);
        pointer-events: none;
        opacity: 0.15;
        animation: terminal-float 4s ease-in-out infinite;
      }

      .terminal-decoration svg {
        width: 100%;
        height: 100%;
        color: rgba(255, 255, 255, 0.8);
        filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.3));
      }

      @keyframes terminal-float {
        0%, 100% {
          transform: translateY(-50%) translateX(0) rotate(0deg);
        }
        50% {
          transform: translateY(-50%) translateX(-10px) rotate(-3deg);
        }
      }

      /* ===== UI OVERLAY ===== */
      .ui-overlay {
        position: fixed;
        inset: 0;
        z-index: 10;
        pointer-events: none;
        padding: clamp(24px, 4vw, 48px);
        display: grid;
        grid-template-rows: auto 1fr auto;
        grid-template-columns: 1fr 1fr;
      }

      /* Name — top left */
      .ui-name {
        grid-row: 1;
        grid-column: 1;
        display: flex;
        flex-direction: column;
        line-height: 1.05;
        color: #fff;
        text-shadow: 0 1px 6px rgba(0, 0, 0, 0.3);
        transition: color 0.3s ease;
        pointer-events: auto;
        align-self: start;
      }

      .name-first {
        font-size: clamp(28px, 4vw, 56px);
        font-weight: 600;
        letter-spacing: 0.02em;
      }

      .name-last {
        font-size: clamp(28px, 4vw, 56px);
        font-weight: 400;
        letter-spacing: 0.06em;
      }

      /* Nav — top right */
      .ui-nav {
        grid-row: 1;
        grid-column: 2;
        justify-self: end;
        align-self: start;
        font-size: clamp(14px, 1.4vw, 18px);
        font-weight: 500;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        text-decoration: none;
        color: #fff;
        text-shadow: 0 1px 6px rgba(0, 0, 0, 0.3);
        transition: color 0.3s ease;
        pointer-events: auto;
        padding-top: 8px;
      }

      .ui-nav:hover {
        opacity: 0.7;
      }

      /* Socials — bottom right */
      .ui-socials {
        grid-row: 3;
        grid-column: 2;
        justify-self: end;
        align-self: end;
        display: flex;
        gap: 18px;
        pointer-events: auto;
      }

      .social-link {
        color: #fff;
        filter: drop-shadow(0 1px 4px rgba(0, 0, 0, 0.3));
        transition: color 0.3s ease, opacity 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .social-link:hover {
        opacity: 0.6;
      }

      /* ===== TEXT INVERSION ===== */
      [data-invertable].inverted {
        color: #fff !important;
      }

      /* ===== CUSTOM CURSOR DOT ===== */
      .cursor-dot {
        position: fixed;
        width: 14px;
        height: 14px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.7);
        box-shadow: 0 0 8px rgba(255, 255, 255, 0.4);
        pointer-events: none;
        z-index: 100;
        transform: translate(-50%, -50%);
        transition: width 0.15s, height 0.15s;
        will-change: left, top;
      }

      /* ===== MOBILE ADJUSTMENTS ===== */
      @media (max-width: 600px) {
        .ui-overlay {
          padding: 20px;
        }
        .name-first,
        .name-last {
          font-size: 24px;
        }
      }
    </style>

    <script>
      // ===========================================================
      //  AFTERIMAGE — interactive spotlight reveal + echo trails
      // ===========================================================

      const SPOTLIGHT_RADIUS = 180;
      const LERP_FACTOR = 0.1;
      const ECHO_LIFETIME = 800; // ms
      const ECHO_SPAWN_THRESHOLD = 8; // px of speed before echoes spawn
      const PARALLAX_FACTOR = 0.015;
      const GRID_SPACING = 50;
      const GRID_DOT_BASE = 1;
      const GRID_INFLUENCE_RADIUS = 180;

      // ---- Elements ----
      const scene = document.getElementById("scene")!;
      const imgReveal = document.getElementById("img-reveal") as HTMLElement;
      const imgBase = document.getElementById("img-base") as HTMLElement;
      const bgTitle = document.getElementById("bg-title") as HTMLElement;
      const echoCanvas = document.getElementById(
        "echo-canvas"
      ) as HTMLCanvasElement;
      const gridCanvas = document.getElementById(
        "grid-canvas"
      ) as HTMLCanvasElement;
      const cursorDot = document.getElementById("cursor-dot") as HTMLElement;
      const invertables = document.querySelectorAll("[data-invertable]");

      // ---- State ----
      let mouseX = -9999;
      let mouseY = -9999;
      let smoothX = -9999;
      let smoothY = -9999;
      let prevSmoothX = -9999;
      let prevSmoothY = -9999;
      let speed = 0;

      interface Echo {
        x: number;
        y: number;
        birth: number;
        radius: number;
      }
      const echoes: Echo[] = [];

      // ---- Canvas contexts ----
      const echoCtx = echoCanvas.getContext("2d")!;
      const gridCtx = gridCanvas.getContext("2d")!;

      function resize() {
        const w = window.innerWidth;
        const h = window.innerHeight;
        echoCanvas.width = w;
        echoCanvas.height = h;
        gridCanvas.width = w;
        gridCanvas.height = h;
      }
      resize();
      window.addEventListener("resize", resize);

      // ---- Mouse tracking ----
      window.addEventListener("mousemove", (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
      });

      window.addEventListener("mouseleave", () => {
        mouseX = -9999;
        mouseY = -9999;
      });

      // ---- Helpers ----
      function lerp(a: number, b: number, t: number) {
        return a + (b - a) * t;
      }

      function dist(x1: number, y1: number, x2: number, y2: number) {
        return Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);
      }

      // ---- Inversion check ----
      function checkInversion() {
        invertables.forEach((el) => {
          const rect = (el as HTMLElement).getBoundingClientRect();
          const cx = rect.left + rect.width / 2;
          const cy = rect.top + rect.height / 2;
          const d = dist(smoothX, smoothY, cx, cy);
          const threshold = SPOTLIGHT_RADIUS + Math.max(rect.width, rect.height) / 2;
          if (d < threshold) {
            (el as HTMLElement).classList.add("inverted");
          } else {
            (el as HTMLElement).classList.remove("inverted");
          }
        });
      }

      // ---- Draw grid ----
      function drawGrid() {
        const w = gridCanvas.width;
        const h = gridCanvas.height;
        gridCtx.clearRect(0, 0, w, h);

        for (let x = GRID_SPACING; x < w; x += GRID_SPACING) {
          for (let y = GRID_SPACING; y < h; y += GRID_SPACING) {
            const d = dist(smoothX, smoothY, x, y);
            const influence = Math.max(
              0,
              1 - d / GRID_INFLUENCE_RADIUS
            );
            const radius = GRID_DOT_BASE + influence * 2.5;
            const alpha = 0.06 + influence * 0.18;

            // Slight displacement toward cursor
            const dx = smoothX - x;
            const dy = smoothY - y;
            const pushX = dx * influence * 0.04;
            const pushY = dy * influence * 0.04;

            gridCtx.beginPath();
            gridCtx.arc(x + pushX, y + pushY, radius, 0, Math.PI * 2);
            gridCtx.fillStyle = `rgba(0,0,0,${alpha})`;
            gridCtx.fill();
          }
        }
      }

      // ---- Draw echoes ----
      function drawEchoes(now: number) {
        const w = echoCanvas.width;
        const h = echoCanvas.height;
        echoCtx.clearRect(0, 0, w, h);

        for (let i = echoes.length - 1; i >= 0; i--) {
          const e = echoes[i];
          const age = now - e.birth;
          if (age > ECHO_LIFETIME) {
            echoes.splice(i, 1);
            continue;
          }
          const progress = age / ECHO_LIFETIME;
          const alpha = (1 - progress) * 0.4;
          const r = e.radius * (1 + progress * 0.3);

          echoCtx.beginPath();
          echoCtx.arc(e.x, e.y, r, 0, Math.PI * 2);
          echoCtx.fillStyle = `rgba(255,255,255,${alpha})`;
          echoCtx.fill();
        }
      }

      // ---- Parallax ----
      function applyParallax() {
        const cx = window.innerWidth / 2;
        const cy = window.innerHeight / 2;
        const dx = (smoothX - cx) * PARALLAX_FACTOR;
        const dy = (smoothY - cy) * PARALLAX_FACTOR;

        // Background title moves with cursor (stronger parallax)
        bgTitle.style.transform = `translate(${dx * 1.2}px, ${dy * 1.2}px)`;

        // Images shift opposite
        const imgTransform = `translate(${-dx}px, ${-dy}px) scale(1.03)`;
        (imgBase.querySelector("img") as HTMLElement).style.transform =
          imgTransform;
        (imgReveal.querySelector("img") as HTMLElement).style.transform =
          imgTransform;

        // UI shifts with cursor slightly
        const uiOverlay = document.getElementById("ui-overlay")!;
        uiOverlay.style.transform = `translate(${dx * 0.3}px, ${dy * 0.3}px)`;
      }

      // ---- Spotlight mask ----
      function updateSpotlight() {
        const dynamicRadius = SPOTLIGHT_RADIUS + speed * 0.5;
        const mask = `radial-gradient(circle ${dynamicRadius}px at ${smoothX}px ${smoothY}px, rgba(0,0,0,1) 0%, rgba(0,0,0,1) 50%, rgba(0,0,0,0.4) 80%, transparent 100%)`;
        imgReveal.style.maskImage = mask;
        imgReveal.style.webkitMaskImage = mask;
      }

      // ---- Main loop ----
      let lastEchoSpawn = 0;

      function tick() {
        const now = performance.now();

        // Smooth cursor follow
        smoothX = lerp(smoothX, mouseX, LERP_FACTOR);
        smoothY = lerp(smoothY, mouseY, LERP_FACTOR);

        // Speed
        speed = dist(smoothX, smoothY, prevSmoothX, prevSmoothY);
        prevSmoothX = smoothX;
        prevSmoothY = smoothY;

        // Cursor dot
        cursorDot.style.left = `${smoothX}px`;
        cursorDot.style.top = `${smoothY}px`;

        // Spawn echoes if moving fast
        if (speed > ECHO_SPAWN_THRESHOLD && now - lastEchoSpawn > 40) {
          echoes.push({
            x: smoothX,
            y: smoothY,
            birth: now,
            radius: SPOTLIGHT_RADIUS * (0.6 + Math.random() * 0.4),
          });
          lastEchoSpawn = now;
        }

        updateSpotlight();
        drawEchoes(now);
        drawGrid();
        applyParallax();
        checkInversion();

        requestAnimationFrame(tick);
      }

      requestAnimationFrame(tick);
    </script>
  </body>
</html>
